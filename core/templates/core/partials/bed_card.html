<li class="list-group-item p-2 d-flex justify-content-between align-items-center" id="bed-{{ bed.id }}">

    <div style="width: 40px; font-size: 1.1em;" class="fw-bold text-secondary border-end me-2 text-center">
        {{ bed.name }}
    </div>

    <div class="flex-grow-1 lh-sm">
        {% if res %}
            <div class="fw-bold text-dark d-flex align-items-center gap-2">
                {{ res.guest.name }}
            </div>

            <div class="small mt-1 d-flex align-items-center flex-wrap gap-2 text-muted">
                <span><i class="bi bi-building"></i> {{ res.guest.company }}</span>

                {% if res.has_luggage %}
                    <span class="badge bg-secondary" title="Mala Guardada">
                        <i class="bi bi-suitcase-fill"></i>
                    </span>
                {% endif %}

                {% if res.status == 'PRE' %}
                    <span class="badge bg-warning text-dark border border-warning">Pré</span>
                {% endif %}
            </div>
        {% else %}
            <span class="text-muted small opacity-50">
                Livre
            </span>
        {% endif %}
    </div>

    {% if res %}
    <div class="btn-group btn-group-sm">
        <button class="btn btn-link text-decoration-none text-secondary p-1"
                hx-post="{% url 'toggle_luggage' res.id %}"
                hx-target="#bed-{{ bed.id }}"
                title="Mala">
            <i class="bi {% if res.has_luggage %}bi-suitcase-fill{% else %}bi-suitcase{% endif %} fs-6"></i>
        </button>

        <button class="btn btn-link text-decoration-none text-primary p-1"
                hx-get="{% url 'change_room_modal' res.id %}"
                hx-target="#modal-content"
                data-bs-toggle="modal" data-bs-target="#mainModal"
                title="Mudar Quarto">
            <i class="bi bi-arrow-left-right fs-6"></i>
        </button>

        <button class="btn btn-link text-decoration-none text-danger p-1"
                hx-post="{% url 'checkout' res.id %}"
                hx-target="#bed-{{ bed.id }}"
                hx-confirm="Confirmar saída de {{ res.guest.name }}?"
                title="Checkout">
            <i class="bi bi-box-arrow-right fs-6"></i>
        </button>
    </div>
    {% else %}
         <button class="btn btn-sm text-success p-1"
            hx-get="{% url 'new_reservation_modal' %}"
            hx-target="#modal-content"
            data-bs-toggle="modal"
            data-bs-target="#mainModal"
            title="Reservar">
            <i class="bi bi-plus-circle fs-5"></i>
         </button>
    {% endif %}
</li>